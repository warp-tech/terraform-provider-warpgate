---
page_title: "warpgate_target Data Source - terraform-provider-warpgate"
subcategory: ""
description: |-
  Retrieves information about a specific target in Warpgate.
---

# warpgate_target (Data Source)

Retrieves information about a specific target in Warpgate. This data source allows you to fetch details about an existing target, including its connectivity options and available roles.

## Example Usage

```hcl
data "warpgate_target" "web_server" {
  id = "12345678-1234-1234-1234-123456789012"
  // optionally
  // name = "webserver"
}

output "target_name" {
  value = data.warpgate_target.web_server.name
}

output "allowed_roles" {
  value = data.warpgate_target.web_server.allow_roles
}

# Use the data source to reference an existing target
resource "warpgate_target_role" "developers_web_access" {
  target_id = data.warpgate_target.web_server.id
  role_id   = warpgate_role.developers.id
}
```

## Accessing Target Options

You can inspect the configuration of a target based on its type. Only one of the option blocks will be populated.

```hcl
locals {
  # Determine target type
  is_ssh      = length(data.warpgate_target.server.ssh_options) > 0
  is_http     = length(data.warpgate_target.server.http_options) > 0
  is_mysql    = length(data.warpgate_target.server.mysql_options) > 0
  is_postgres = length(data.warpgate_target.server.postgres_options) > 0

  # Safely access target details
  host = local.is_ssh ? data.warpgate_target.server.ssh_options[0].host :
         local.is_http ? "<HTTP target>" :
         local.is_mysql ? data.warpgate_target.server.mysql_options[0].host :
         local.is_postgres ? data.warpgate_target.server.postgres_options[0].host :
         "unknown"
}

output "target_type" {
  value = local.is_ssh ? "SSH" :
          local.is_http ? "HTTP" :
          local.is_mysql ? "MySQL" :
          local.is_postgres ? "PostgreSQL" :
          "unknown"
}

output "target_host" {
  value = local.host
}
```

## Argument Reference

The following arguments are supported:

- `id` - The ID of the target to look up.
- `name` - The name of the target to look up.

Either `id` or `name` should be specified.

## Attribute Reference

In addition to the arguments listed above, the following attributes are exported:

- `name` - The name of the target.
- `description` - The description of the target.
- `allow_roles` - The list of roles allowed to access this target.

Based on the target type, one of the following option blocks will be populated:

- `ssh_options` - Configuration for SSH targets.
  - `host` - The SSH server hostname or IP address.
  - `port` - The SSH server port.
  - `username` - The SSH username.
  - `allow_insecure_algos` - Whether insecure SSH algorithms are allowed.
  - `password_auth` - Password authentication configuration (if applicable).
    - `password` - The password for SSH authentication.
  - `public_key_auth` - Public key authentication configuration (if applicable).

- `http_options` - Configuration for HTTP targets.
  - `url` - The HTTP server URL.
  - `tls` - TLS configuration.
    - `mode` - TLS mode (Disabled, Preferred, Required).
    - `verify` - Whether TLS certificates are verified.
  - `headers` - HTTP headers included in requests.
  - `external_host` - External host for HTTP requests.

- `mysql_options` - Configuration for MySQL targets.
  - `host` - The MySQL server hostname or IP address.
  - `port` - The MySQL server port.
  - `username` - The MySQL username.
  - `password` - The MySQL password.
  - `tls` - TLS configuration.
    - `mode` - TLS mode (Disabled, Preferred, Required).
    - `verify` - Whether TLS certificates are verified.

- `postgres_options` - Configuration for PostgreSQL targets.
  - `host` - The PostgreSQL server hostname or IP address.
  - `port` - The PostgreSQL server port.
  - `username` - The PostgreSQL username.
  - `password` - The PostgreSQL password.
  - `tls` - TLS configuration.
    - `mode` - TLS mode (Disabled, Preferred, Required).
    - `verify` - Whether TLS certificates are verified.

<!-- schema generated by tfplugindocs -->

## Schema

### Required

- `id` (String) The ID of the target

### Read-Only

- `allow_roles` (List of String) The list of roles allowed to access this target
- `description` (String) The description of the target
- `http_options` (List of Object) HTTP target options (see [below for nested schema](#nestedatt--http_options))
- `mysql_options` (List of Object) MySQL target options (see [below for nested schema](#nestedatt--mysql_options))
- `name` (String) The name of the target
- `postgres_options` (List of Object) PostgreSQL target options (see [below for nested schema](#nestedatt--postgres_options))
- `ssh_options` (List of Object) SSH target options (see [below for nested schema](#nestedatt--ssh_options))

<a id="nestedatt--http_options"></a>

### Nested Schema for `http_options`

Read-Only:

- `external_host` (String)
- `headers` (Map of String)
- `tls` (List of Object) (see [below for nested schema](#nestedobjatt--http_options--tls))
- `url` (String)

<a id="nestedobjatt--http_options--tls"></a>

### Nested Schema for `http_options.tls`

Read-Only:

- `mode` (String)
- `verify` (Boolean)

<a id="nestedatt--mysql_options"></a>

### Nested Schema for `mysql_options`

Read-Only:

- `host` (String)
- `password` (String)
- `port` (Number)
- `tls` (List of Object) (see [below for nested schema](#nestedobjatt--mysql_options--tls))
- `username` (String)

<a id="nestedobjatt--mysql_options--tls"></a>

### Nested Schema for `mysql_options.tls`

Read-Only:

- `mode` (String)
- `verify` (Boolean)

<a id="nestedatt--postgres_options"></a>

### Nested Schema for `postgres_options`

Read-Only:

- `host` (String)
- `password` (String)
- `port` (Number)
- `tls` (List of Object) (see [below for nested schema](#nestedobjatt--postgres_options--tls))
- `username` (String)

<a id="nestedobjatt--postgres_options--tls"></a>

### Nested Schema for `postgres_options.tls`

Read-Only:

- `mode` (String)
- `verify` (Boolean)

<a id="nestedatt--ssh_options"></a>

### Nested Schema for `ssh_options`

Read-Only:

- `allow_insecure_algos` (Boolean)
- `host` (String)
- `password_auth` (List of Object) (see [below for nested schema](#nestedobjatt--ssh_options--password_auth))
- `port` (Number)
- `public_key_auth` (List of Object) (see [below for nested schema](#nestedobjatt--ssh_options--public_key_auth))
- `username` (String)

<a id="nestedobjatt--ssh_options--password_auth"></a>

### Nested Schema for `ssh_options.password_auth`

Read-Only:

- `password` (String)

<a id="nestedobjatt--ssh_options--public_key_auth"></a>

### Nested Schema for `ssh_options.public_key_auth`

Read-Only:
